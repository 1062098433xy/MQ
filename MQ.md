# 消息队列
> 消息队列(Message Queue),是分布式系统中重要的组件。消息队列主要解决了应用耦合、异步处理、流量削峰等问题。

#### 一、为什么要用消息队列

<h4>

- 优点：<br>
1.通过异步处理提高系统性能(削峰、减少响应所需时间)<br>
2.降低系统耦合性<br>
- 缺点：<br>
1.系统可用性降低(万一MQ挂了怎么处理，牵一发而动全身)<br>
2.系统复杂度提高(如何保证没有重复消息，如何处理消息丢失的情况)<br>
3.一致性问题<br>

</h4>

#### 二、消息队列的两种模式

<h4>
1.点对点模型(P2P)<br>
- 点对点模式包括：消息队列、发送者(生产者)、接受者(消费者)<br>
- 消息生产者生成消息发送到Queue中，消息接受者从Queue中取出并且消费消息。<br>
- 消息被消费后从Queue中去除。所以消息接受者不可能消费到已经被消费过的消息。<br>

特点：
- 每个消息只有一个接收者(Consumer)
- 发送者和接收者相互不依赖
- 接收者在成功接收消息之后需向队列应答成功，以便消息队列删除当前接收的消息
<br>

2.发布/订阅模型(Pub/Sub)<br>
- 发布/订阅包括:主题(Topic)、发布者(Publisher)、订阅者(Subscribe)<br>
- 发布者将消息发送到Topic，系统将这些消息传递给多个订阅者.<br>
- 发布者是将消息采用推方式给消息系统，订阅者可以采用拉、推的方式从消息系统中获取数据

特点：
- 每个消息可以有多个订阅者
- 发布者与订阅者之间有时间上的依赖性。必须有订阅者才能消费某个主题的消息

</h4>

